[gd_scene load_steps=20 format=3 uid="uid://duuj8y4ltnxx4"]

[ext_resource type="Script" uid="uid://dbvaxllvh5a5m" path="res://addons/vaportrail/example/example_scene.gd" id="1_2hso6"]
[ext_resource type="Texture2D" uid="uid://gn7hoa3umle6" path="res://addons/vaportrail/example/tr0n.png" id="1_6iu73"]
[ext_resource type="Texture2D" uid="uid://6hiavd5uxq8r" path="res://addons/vaportrail/example/normal.png" id="2_m823o"]
[ext_resource type="Script" uid="uid://ck8eb0fy28vat" path="res://addons/vaportrail/example/Camera.gd" id="3_tpcue"]
[ext_resource type="Texture2D" uid="uid://b3ojc6x8opvon" path="res://addons/vaportrail/example/vapor.png" id="4_2hso6"]

[sub_resource type="Animation" id="Animation_f5fpc"]
resource_name = "Go!"
length = 16.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 16),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Path3D2/PathFollow3D:progress_ratio")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 7.5, 16),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.0, 2.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Path3D3/PathFollow3D:progress_ratio")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 16),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_7sftb"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D3/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qss24"]
_data = {
&"Go!": SubResource("Animation_f5fpc"),
&"RESET": SubResource("Animation_7sftb")
}

[sub_resource type="Curve3D" id="Curve3D_1cqmv"]
_data = {
"points": PackedVector3Array(0.6448, -0.0439992, 0.919564, -0.6448, 0.0439992, -0.919564, -1.27339, 0.403995, 0.598389, -0.190704, 0.0142684, 0.163187, 0.190704, -0.0142684, -0.163187, -1.40802, 0.0468898, -0.526539, -0.517524, 0.00362015, 0.119019, 0.517524, -0.00362015, -0.119019, -0.420251, -0.315522, -1.20963, -0.149543, 0.0204387, -0.490269, 0.149543, -0.0204387, 0.490269, 0.964697, 0.299011, -0.662578, 0.432817, 0.002069, -0.237493, -0.432817, -0.002069, 0.237493, 0.59749, -0.0366154, 0.739912, 0.21581, -0.0248461, 0.581475, -0.21581, 0.0248461, -0.581475, -1.26693, -0.248861, 0.473755, -0.4659, -0.0054369, 0.342362, 0.4659, 0.0054369, -0.342362, -0.508922, 0.0329943, -0.679055, -0.300558, -0.145282, -0.211073, 0.300558, 0.145282, 0.211073, 0.741412, 0.281463, -1.36156, -0.192445, 0.0150046, -0.325285, 0.192445, -0.0150046, 0.325285, 1.28395, 0.00509381, -0.943457, -0.0770879, 0.155181, -0.162297, 0.0770879, -0.155181, 0.162297, 1.52745, -0.169777, -0.550797, 0.706027, -0.39996, -0.621434, -0.706027, 0.39996, 0.621434, 1.43893, -0.188267, 0.440886, 0.371347, -0.0347538, -0.0108885, -0.371347, 0.0347538, 0.0108885, -0.00664371, -0.464049, 1.2613, 0.6448, -0.0439992, 0.919564, -0.6448, 0.0439992, -0.919564, -1.27339, 0.403995, 0.598389),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 13

[sub_resource type="BoxMesh" id="BoxMesh_job12"]
size = Vector3(0.01, 0.1, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5enqk"]
transparency = 1
cull_mode = 2
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("1_6iu73")
emission_enabled = true
emission = Color(0.8675581, 0.8931362, 0.42420506, 1)
emission_energy_multiplier = 0.0
normal_texture = ExtResource("2_m823o")

[sub_resource type="Gradient" id="Gradient_dx8xt"]
offsets = PackedFloat32Array(0, 0.056047197, 0.899705, 1)
colors = PackedColorArray(1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="BoxMesh" id="BoxMesh_2hso6"]
size = Vector3(0.1, 0.1, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_romn7"]
transparency = 1
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("4_2hso6")
uv1_scale = Vector3(5, 1, 1)

[sub_resource type="Gradient" id="Gradient_4frb0"]
offsets = PackedFloat32Array(0, 0.11838006, 0.46417445, 1)
colors = PackedColorArray(1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="Curve3D" id="Curve3D_45udd"]
_data = {
"points": PackedVector3Array(-1.41612, -4.04119e-05, 0.127062, 1.41612, 4.04119e-05, -0.127062, 0, 0, 3, -0.413692, 0, 0.937268, 0.413692, 0, -0.937268, 2.1848, 0, 1.21845, 0.0258551, 0, 1.04715, -0.0258551, 0, -1.04715, 2.69545, 0, -0.617304, 0.387835, 0, 0.639927, -0.387835, 0, -0.639927, 2.25591, 0, -2.00058, 0.924339, 0, 0.012928, -0.924339, 0, -0.012928, -0.168062, 0, -2.98956, 0.659319, 0, -0.342587, -0.659319, 0, 0.342587, -2.19773, 0, -2.36902, 0.452474, 0, -1.0213, -0.452474, 0, 1.0213, -2.9023, 0, -1.2637, -0.789542, -4.04119e-05, -1.40116, 0.789542, 4.04119e-05, 1.40116, -2.44982, 0, 1.74849, 0, 0, 0, 0, 0, 0, 0, 0, 3),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 9

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jdl6j"]

[sub_resource type="Sky" id="Sky_pvydg"]
sky_material = SubResource("ProceduralSkyMaterial_jdl6j")

[sub_resource type="Environment" id="Environment_72flp"]
background_mode = 2
sky = SubResource("Sky_pvydg")
ambient_light_source = 3
glow_enabled = true
glow_normalized = true
glow_intensity = 3.62
glow_strength = 0.7
glow_bloom = 0.24
glow_blend_mode = 0

[node name="Node3D" type="Node3D"]
script = ExtResource("1_2hso6")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_qss24")
}
autoplay = "Go!"

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.728144, 0.439867, -0.525665, 0, 0.766919, 0.641744, 0.685425, -0.467282, 0.558427, 0, 0.751038, 0.79343)

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_1cqmv")
metadata/_edit_group_ = true

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(0.81876224, 0.022474376, 0.5736792, -9.313144e-10, 0.9992144, -0.039146133, -0.57411754, 0.032051228, 0.8181371, -1.27339, 0.403995, 0.598389)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Path3D/PathFollow3D"]
transform = Transform3D(1, 0, 0, 0, 1.0000001, -1.8626451e-09, 0, 1.8626451e-09, 1.0000001, 0, 0, 0)
mesh = SubResource("BoxMesh_job12")

[node name="TrailEmitter" type="VaporTrail" parent="Path3D/PathFollow3D/MeshInstance3D"]
config/alignment = 2
config/num_points = 20
visual/material = SubResource("StandardMaterial3D_5enqk")
visual/size = 0.1
visual/minimum_onscreen_size = 20.0
visual/color_gradient = SubResource("Gradient_dx8xt")
transform = Transform3D(1.0000005, 0, 0, 0, 0.99999994, 0, 0, 0, 1, 0, 0, 0)

[node name="Path3D3" type="Path3D" parent="."]
transform = Transform3D(-0.22554617, 1.9717872e-08, -0.9742325, -8.742278e-08, -1, 0, -0.9742325, 8.517011e-08, 0.22554617, 0, 0.8261885, 0)
curve = SubResource("Curve3D_1cqmv")
metadata/_edit_group_ = true

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D3"]
transform = Transform3D(0.8187647, 0.022474416, 0.57368, -9.3131725e-10, 0.9992162, -0.039146185, -0.57411927, 0.032051284, 0.8181382, -1.27339, 0.403995, 0.598389)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Path3D3/PathFollow3D"]
transform = Transform3D(1, 0, 0, 0, 1.0000001, -1.8626451e-09, 0, 1.8626451e-09, 1.0000001, 0, 0, 0)
mesh = SubResource("BoxMesh_2hso6")

[node name="TrailEmitter" type="VaporTrail" parent="Path3D3/PathFollow3D/MeshInstance3D"]
config/num_points = 60
config/update_interval = 0.05
config/randomness = 0.2
visual/material = SubResource("StandardMaterial3D_romn7")
visual/size = 0.1
visual/minimum_onscreen_size = 20.0
visual/color_gradient = SubResource("Gradient_4frb0")
visual/uv_shift = -0.5
transform = Transform3D(1.0000005, 0, 0, 0, 0.99999994, 0, 0, 0, 1, 0, 0, 0)

[node name="Path3D2" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 2.05538, 0)
curve = SubResource("Curve3D_45udd")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D2"]
transform = Transform3D(0.0893655, -2.830915e-05, -0.9959881, -9.094849e-13, 1, -2.8422568e-05, 0.9959881, 2.5400527e-06, 0.0893655, 0, 0, 3)
tilt_enabled = false

[node name="Camera3D" type="Camera3D" parent="Path3D2/PathFollow3D"]
transform = Transform3D(1.00001, 1.49012e-08, -3.72529e-08, -1.49012e-08, 1, 3.72529e-09, -7.45058e-09, -1.86265e-09, 1.00001, 0, 0, 0)
current = true
script = ExtResource("3_tpcue")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_72flp")

[node name="Timer" type="Timer" parent="."]
wait_time = 0.1
autostart = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
